<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('partials/head'); %>
</head>

<body>
    <%- include('partials/navbar_top_searchbar', { back: true, fill: 'Casual Shirt' }); %>
    
    <div class="container">
        <div class="row">
            <div class="col">
                <h1 class="page-title" role="alert">Search Result for '<span class="replace-from-query" data-key="q"></span>'</h1>
                <div class="text-center">
                    <button class="btn btn-primary px-5 toast-trigger" data-toast-message="This button opens filter options. Not yet implemented in this prototype." data-toast-style="info"><i class="fas fa-filter" aria-hidden="true"></i> Filter</button>
                </div>
                <!-- <div class="my-3 btn-group btn-group-fullwidth" role="group" aria-label="Basic example">
                    <button class="btn btn-primary" role="switch" aria-checked="true">Show only in wardrobe</button>
                    <button class="btn btn-outline-dark toast-trigger" role="switch" aria-checked="false" data-toast-message="This button show all items in the search result list. Not yet implemented in this prototype." data-toast-style="info">Show all items</button>
                </div> -->
                <%- include('partials/clothes_combo', { 
                    itemName: 'White Dress Shirt + White Dress Pants' ,
                    image: '/img/photos/Business Outfit@2x.jpg',
                    tags: 'formal'
                }); %>
                <%- include('partials/clothes_combo', { 
                    itemName: 'Striped T-Shirt + Brown Shorts' ,
                    image: '/img/photos/Casual Outfit@2x.jpg',
                    tags: 'casual'
                }); %>
                <%- include('partials/clothes_card', { 
                    itemName: 'White Dress Shirt' ,
                    image: '/img/photos/Item - dress shirt@2x.jpg',
                    description: 'Plain Formal White Long-sleeved Dress Shirt',
                    brand: 'Arrow',
                    tags: 'formal, tops'
                }); %>
                <%- include('partials/clothes_card', { 
                    itemName: 'Black & White Striped Tee' ,
                    image: '/img/photos/Item - tshirt@2x.jpg',
                    description: 'Striped Black/White Short-sleeved Crew-neck T-shirt',
                    brand: 'H&M',
                    tags: 'casual, tops'
                }); %>
                <%- include('partials/clothes_card', { 
                    itemName: 'Brown Shorts' ,
                    image: '/img/photos/Item - short@2x.jpg',
                    description: 'Casual Plain Brown Shorts',
                    brand: 'George',
                    tags: 'casual, bottoms'
                }); %>
                <%- include('partials/clothes_card', { 
                    itemName: 'Black Dress Pants' ,
                    image: '/img/photos/Item - pants@2x.jpg',
                    description: 'Formal Plain Black Slim-fit Dress Pants',
                    brand: 'Arrow',
                    tags: 'formal, bottoms'
                }); %>
                <h2 class="text-center" id="not-found">No clothes matches your query.</h2>
                <!-- <a href="/1a_add_details" class="btn btn-lg btn-primary">add details</a> -->
            </div>
        </div>
        <!-- <a href="scan" class="btn btn-primary">Go to scan page</a> -->
    </div>

    <%- include('partials/navbar_bottom', { active: 1 }); %>
    
    <%- include('partials/scripts'); %>

    <script>
    $(function () {
        var searchTerm = getUrlParameter('q')
        var keywords = searchTerm.split(' ')
        var matchesCount = 0
        $('.clothes-card').each(function () {
            for (var k in keywords) {
                // console.log($(this).data('tags'), keywords[k])
                if ($(this).data('tags') && $(this).data('tags').includes(keywords[k])) {
                    matchesCount++
                    return
                }
            }
            $(this).remove()
        })
        
        if (matchesCount > 0)
            $('#not-found').remove()
    })
    </script>
</body>

</html>